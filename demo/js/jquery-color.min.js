/*! color - v0.1.0 - 2013-07-23
* https://github.com/amazingSurge/color
* Copyright (c) 2013 joeylin; Licensed MIT */
(function(t,r,n){var s=function(t){return t?(3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),6===t.length?t:null):null},a={RGB:{match:/rgb\(\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*\)/,parse:function(t){return{r:"%"===t[1].substr(-1)?parseInt(2.55*t[1].slice(0,-1),10):parseInt(t[1],10),g:"%"===t[2].substr(-1)?parseInt(2.55*t[2].slice(0,-1),10):parseInt(t[2],10),b:"%"===t[3].substr(-1)?parseInt(2.55*t[3].slice(0,-1),10):parseInt(t[3],10)}},to:function(t){return"rgb("+t.r+","+t.g+","+t.b+")"}},RGBA:{match:/rgba\(\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(t){return{r:"%"===t[1].substr(-1)?parseInt(2.55*t[1].slice(0,-1),10):parseInt(t[1],10),g:"%"===t[2].substr(-1)?parseInt(2.55*t[2].slice(0,-1),10):parseInt(t[2],10),b:"%"===t[3].substr(-1)?parseInt(2.55*t[3].slice(0,-1),10):parseInt(t[3],10),a:parseFloat(t[4])}},to:function(t){return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}},HSL:{match:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*\)/,parse:function(t){var r={h:(t[1]%360+360)%360,s:parseFloat(t[2]/100),l:parseFloat(t[3]/100)};return e.HSLToRGB(r)},to:function(t){var r=e.RGBToHSL(t);return"hsl("+parseInt(r.h,10)+","+Math.round(100*r.s)+"%,"+Math.round(100*r.l)+"%)"}},HSLA:{match:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(t){var r={h:(t[1]%360+360)%360,s:parseFloat(t[2]/100),l:parseFloat(t[3]/100),a:parseFloat(t[4])};return e.HSLToRGB(r)},to:function(t){var r=e.RGBToHSL(t);return"hsla("+parseInt(r.h,10)+","+Math.round(100*r.s)+"%,"+Math.round(100*r.l)+"%,"+t.a+")"}},HEX:{match:/#([a-f0-9]{6}|[a-f0-9]{3})/,parse:function(t){var r=t[1];return 3===r.length&&(r=s(r)),{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16)}},to:function(t){var r=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return n.each(r,function(t,n){1===n.length&&(r[t]="0"+n)}),"#"+r.join("")}},TRANSPARENT:{match:/transparent/,parse:function(){return{r:0,g:0,b:0,a:0}},to:function(){return"transparent"}}},e=n.colorValue=function(t,r){this.value={r:0,g:0,b:0,h:0,s:0,v:0,a:1},this._format="HEX",this.init(t,r)};e.prototype={constructor:e,init:function(t,r,n){if(this.onChange="function"==typeof n?n:function(){},r!==undefined)this.format(r);else for(var s in a){var e=null;if(null!=(e=a[s].match.exec(t))){this.format(s);break}}this.from(t)},from:function(t){if("string"==typeof t){var r=null;for(var n in a)if(null!=(r=a[n].match.exec(t))){this.set(a[n].parse(r));break}}else"object"==typeof t&&this.set(t)},format:function(t){return"string"==typeof t&&(t=t.toUpperCase())&&a[t]!==undefined?("TRANSPARENT"!==t&&(this._format=t),undefined):this._format},toRGBA:function(){return a.RGBA.to(this.value)},toRGB:function(){return a.RGB.to(this.value)},toHSLA:function(){return a.HSLA.to(this.value)},toHSL:function(){return a.HSL.to(this.value)},toHEX:function(){return a.HEX.to(this.value)},toString:function(){return 0===this.value.a?a.TRANSPARENT.to(this.value):a[this.format()].to(this.value)},get:function(){return this.value},set:function(t){var r=0,n=0;for(var s in t)-1!=="hsv".indexOf(s)?(n++,this.value[s]=t[s]):-1!=="rgb".indexOf(s)?(r++,this.value[s]=t[s]):"a"===s&&(this.value.a=t.a);if(r>n){var a=e.RGBtoHSV(this.value);this.value.h=0===this.value.r&&0===this.value.g&&0===this.value.b?t.h:a.h,this.value.s=a.s,this.value.v=a.v}else if(n>r){var u=e.HSVtoRGB(this.value);this.value.r=u.r,this.value.g=u.g,this.value.b=u.b}}},e.HSLToRGB=function(t){var r,n,s=t.h/360,a=t.s,u=t.l;n=.5>=u?u*(a+1):u+a-u*a,r=2*u-n;var o={r:e.hueToRGB(r,n,s+1/3),g:e.hueToRGB(r,n,s),b:e.hueToRGB(r,n,s-1/3)};return t.a!==undefined&&(o.a=t.a),0===t.l&&(o.h=t.h),o},e.hueToRGB=function(t,r,n){var s;return 0>n?n+=1:n>1&&(n-=1),s=1>6*n?t+6*(r-t)*n:1>2*n?r:2>3*n?t+6*(r-t)*(2/3-n):t,Math.round(255*s)},e.RGBToHSL=function(t){var r,n,s=t.r/255,a=t.g/255,e=t.b/255,u=Math.min(s,a,e),o=Math.max(s,a,e),i=o-u,h=o+u,l=.5*h;return r=u===o?0:s===o?60*(a-e)/i+360:a===o?60*(e-s)/i+120:60*(s-a)/i+240,n=0===i?0:.5>=l?i/h:i/(2-h),{h:Math.round(r)%360,s:n,l:l}},e.RGBToHEX=function(t){return a.HEX.to(t)},e.HSLToHEX=function(t){var r=e.HSLToRGB(t);return a.HEX.to(r)},e.HSVtoHEX=function(t){var r=e.HSVtoRGB(t);return a.HEX.to(r)},e.RGBtoHSV=function(t){var r,n,s=t.r/255,a=t.g/255,e=t.b/255,u=Math.max(s,a,e),o=Math.min(s,a,e),i=u,h=u-o;if(n=0===u?0:h/u,u===o)r=0;else{switch(u){case s:r=(a-e)/h+(e>a?6:0);break;case a:r=(e-s)/h+2;break;case e:r=(s-a)/h+4}r/=6}return{h:360*r,s:n,v:i}},e.HSVtoRGB=function(t){var r,n,s,a=t.h%360/60,e=t.s,u=t.v,o=u*e,i=o*(1-Math.abs(a%2-1));return r=n=s=u-o,a=~~a,r+=[o,i,0,0,i,o][a],n+=[i,o,o,i,0,0][a],s+=[0,0,i,o,o,i][a],{r:Math.round(255*r),g:Math.round(255*n),b:Math.round(255*s)}}})(window,document,jQuery);